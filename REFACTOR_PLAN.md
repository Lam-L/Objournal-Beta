# React é‡æ„è®¡åˆ’ - Step by Step

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®åˆå§‹åŒ–](#1-é¡¹ç›®åˆå§‹åŒ–)
2. [åŸºç¡€æ¶æ„æ­å»º](#2-åŸºç¡€æ¶æ„æ­å»º)
3. [æ ¸å¿ƒç»„ä»¶å¼€å‘](#3-æ ¸å¿ƒç»„ä»¶å¼€å‘)
4. [Hooks å’ŒçŠ¶æ€ç®¡ç†](#4-hooks-å’ŒçŠ¶æ€ç®¡ç†)
5. [å›¾ç‰‡å¸ƒå±€ç»„ä»¶](#5-å›¾ç‰‡å¸ƒå±€ç»„ä»¶)
6. [è™šæ‹ŸåŒ–å®ç°](#6-è™šæ‹ŸåŒ–å®ç°)
7. [å®æ—¶æ›´æ–°](#7-å®æ—¶æ›´æ–°)
8. [æµ‹è¯•å’Œä¼˜åŒ–](#8-æµ‹è¯•å’Œä¼˜åŒ–)

---

## 1. é¡¹ç›®åˆå§‹åŒ–

### Step 1.1: åˆ›å»ºé¡¹ç›®ç»“æ„

**æ—¶é—´ä¼°ç®—**: 30 åˆ†é’Ÿ

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
- [ ] åˆå§‹åŒ– package.json
- [ ] é…ç½® TypeScript
- [ ] é…ç½® esbuild
- [ ] åˆ›å»º manifest.json

**ç›®å½•ç»“æ„**:
```
obsidian-journal-react/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ JournalViewContainer.tsx
â”‚   â”‚   â”œâ”€â”€ JournalHeader.tsx
â”‚   â”‚   â”œâ”€â”€ JournalStats.tsx
â”‚   â”‚   â”œâ”€â”€ JournalList.tsx
â”‚   â”‚   â”œâ”€â”€ JournalCard.tsx
â”‚   â”‚   â”œâ”€â”€ JournalImageContainer.tsx
â”‚   â”‚   â””â”€â”€ JournalEmptyState.tsx
â”‚   â”œâ”€â”€ hooks/              # React Hooks
â”‚   â”‚   â”œâ”€â”€ useJournalEntries.ts
â”‚   â”‚   â”œâ”€â”€ useJournalPagination.ts
â”‚   â”‚   â”œâ”€â”€ useJournalScroll.ts
â”‚   â”‚   â””â”€â”€ useFileSystemWatchers.ts
â”‚   â”œâ”€â”€ context/            # React Context
â”‚   â”‚   â”œâ”€â”€ JournalViewContext.tsx
â”‚   â”‚   â””â”€â”€ JournalDataContext.tsx
â”‚   â”œâ”€â”€ view/               # Obsidian View
â”‚   â”‚   â””â”€â”€ JournalView.tsx
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°ï¼ˆä»åŸé¡¹ç›®å¤åˆ¶ï¼‰
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â”œâ”€â”€ logger.ts
â”‚   â”‚   â””â”€â”€ StatisticsCalculator.ts
â”‚   â”œâ”€â”€ constants.ts        # å¸¸é‡ï¼ˆä»åŸé¡¹ç›®å¤åˆ¶ï¼‰
â”‚   â””â”€â”€ main.ts             # æ’ä»¶å…¥å£
â”œâ”€â”€ styles.css
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ esbuild.config.mjs
â””â”€â”€ manifest.json
```

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»ºç›®å½•ç»“æ„**
```bash
cd .obsidian/plugins/obsidian-journal-react
mkdir -p src/{components,hooks,context,view,utils}
```

2. **åˆ›å»º package.json**
```json
{
  "name": "obsidian-journal-react",
  "version": "0.1.0",
  "description": "æ‰‹è®°è§†å›¾æ’ä»¶ (React ç‰ˆæœ¬)",
  "main": "main.js",
  "scripts": {
    "dev": "node esbuild.config.mjs",
    "build": "tsc -noEmit -skipLibCheck && node esbuild.config.mjs production"
  },
  "keywords": [],
  "author": "",
  "license": "MIT",
  "devDependencies": {
    "@types/node": "^16.11.6",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "5.29.0",
    "@typescript-eslint/parser": "5.29.0",
    "builtin-modules": "3.3.0",
    "esbuild": "0.17.3",
    "obsidian": "latest",
    "tslib": "2.4.0",
    "typescript": "4.7.4"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@tanstack/react-virtual": "^3.13.12"
  }
}
```

3. **åˆ›å»º tsconfig.json**
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "inlineSourceMap": true,
    "inlineSources": true,
    "module": "ESNext",
    "target": "ES6",
    "allowJs": true,
    "noImplicitAny": true,
    "moduleResolution": "node",
    "importHelpers": true,
    "jsx": "react",
    "lib": [
      "DOM",
      "ES5",
      "ES6",
      "ES7"
    ],
    "skipLibCheck": true,
    "strictNullChecks": true
  },
  "include": [
    "src/**/*.ts",
    "src/**/*.tsx"
  ]
}
```

4. **åˆ›å»º esbuild.config.mjs** (éœ€è¦æ”¯æŒ JSX)
```javascript
import esbuild from "esbuild";
import process from "process";
import builtinModules from "builtin-modules";

const banner =
`/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
`;

const prod = (process.argv[2] === 'production');

const context = await esbuild.context({
	banner: {
		js: banner,
	},
	entryPoints: ['src/main.ts'],
	bundle: true,
	external: [
		'obsidian',
		'electron',
		'@codemirror/autocomplete',
		'@codemirror/collab',
		'@codemirror/commands',
		'@codemirror/language',
		'@codemirror/lint',
		'@codemirror/search',
		'@codemirror/state',
		'@codemirror/view',
		'@lezer/common',
		'@lezer/highlight',
		'@lezer/lr',
		...builtinModules],
	format: 'cjs',
	target: 'es2018',
	logLevel: "info",
	sourcemap: prod ? false : 'inline',
	treeShaking: true,
	jsx: 'automatic',  // æ”¯æŒ JSX
	outfile: 'main.js',
});

if (prod) {
	await context.rebuild();
	process.exit(0);
} else {
	await context.watch();
}
```

5. **åˆ›å»º manifest.json**
```json
{
  "id": "obsidian-journal-react",
  "name": "æ‰‹è®°è§†å›¾ (React)",
  "version": "0.1.0",
  "minAppVersion": "0.15.0",
  "description": "å°† Markdown æ–‡ä»¶æŒ‰æ—¥å†ç»„ç»‡ï¼Œç”Ÿæˆç±»ä¼¼æ‰‹è®°åº”ç”¨çš„è§†å›¾ (React ç‰ˆæœ¬)",
  "author": "Your Name",
  "authorUrl": "",
  "fundingUrl": "",
  "isDesktopOnly": false
}
```

6. **å¤åˆ¶å·¥å…·æ–‡ä»¶**
```bash
# ä»åŸé¡¹ç›®å¤åˆ¶
cp ../obsidian-journal-view/utils.ts src/utils/
cp ../obsidian-journal-view/logger.ts src/utils/
cp ../obsidian-journal-view/StatisticsCalculator.ts src/utils/
cp ../obsidian-journal-view/constants.ts src/
cp ../obsidian-journal-view/styles.css .
```

7. **å®‰è£…ä¾èµ–**
```bash
npm install
```

**æ£€æŸ¥æ¸…å•**:
- [ ] æ‰€æœ‰ç›®å½•å·²åˆ›å»º
- [ ] package.json é…ç½®æ­£ç¡®
- [ ] TypeScript é…ç½®æ”¯æŒ JSX
- [ ] esbuild é…ç½®æ”¯æŒ JSX
- [ ] ä¾èµ–å®‰è£…æˆåŠŸ
- [ ] å¯ä»¥è¿è¡Œ `npm run build`ï¼ˆå³ä½¿æ²¡æœ‰ä»£ç ï¼‰

---

## 2. åŸºç¡€æ¶æ„æ­å»º

### Step 2.1: åˆ›å»º Context Providers

**æ—¶é—´ä¼°ç®—**: 2-3 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º JournalViewContext
- [ ] åˆ›å»º JournalDataContext
- [ ] åˆ›å»º Provider ç»„ä»¶

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/context/JournalViewContext.tsx`**
```typescript
import React, { createContext, useContext, ReactNode } from 'react';
import { App, Plugin } from 'obsidian';

interface JournalViewContextValue {
  app: App;
  plugin: Plugin | null;
  targetFolderPath: string | null;
  setTargetFolderPath: (path: string | null) => void;
}

const JournalViewContext = createContext<JournalViewContextValue | null>(null);

export const useJournalView = () => {
  const context = useContext(JournalViewContext);
  if (!context) {
    throw new Error('useJournalView must be used within JournalViewProvider');
  }
  return context;
};

interface JournalViewProviderProps {
  app: App;
  plugin: Plugin | null;
  targetFolderPath: string | null;
  setTargetFolderPath: (path: string | null) => void;
  children: ReactNode;
}

export const JournalViewProvider: React.FC<JournalViewProviderProps> = ({
  app,
  plugin,
  targetFolderPath,
  setTargetFolderPath,
  children,
}) => {
  return (
    <JournalViewContext.Provider
      value={{
        app,
        plugin,
        targetFolderPath,
        setTargetFolderPath,
      }}
    >
      {children}
    </JournalViewContext.Provider>
  );
};
```

2. **åˆ›å»º `src/context/JournalDataContext.tsx`**
```typescript
import React, { createContext, useContext, ReactNode } from 'react';
import { JournalEntry } from '../utils/utils';

interface JournalDataContextValue {
  entries: JournalEntry[];
  isLoading: boolean;
  error: Error | null;
  refresh: () => Promise<void>;
}

const JournalDataContext = createContext<JournalDataContextValue | null>(null);

export const useJournalData = () => {
  const context = useContext(JournalDataContext);
  if (!context) {
    throw new Error('useJournalData must be used within JournalDataProvider');
  }
  return context;
};

interface JournalDataProviderProps {
  entries: JournalEntry[];
  isLoading: boolean;
  error: Error | null;
  refresh: () => Promise<void>;
  children: ReactNode;
}

export const JournalDataProvider: React.FC<JournalDataProviderProps> = ({
  entries,
  isLoading,
  error,
  refresh,
  children,
}) => {
  return (
    <JournalDataContext.Provider
      value={{
        entries,
        isLoading,
        error,
        refresh,
      }}
    >
      {children}
    </JournalDataContext.Provider>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] Context åˆ›å»ºæˆåŠŸ
- [ ] Provider ç»„ä»¶å¯ä»¥æ­£å¸¸ä½¿ç”¨
- [ ] Hook å¯ä»¥æ­£å¸¸è®¿é—® Context
- [ ] TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡

---

### Step 2.2: é‡æ„ JournalView ä¸º React å®¹å™¨

**æ—¶é—´ä¼°ç®—**: 2-3 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»ºæ–°çš„ JournalView.tsx
- [ ] é›†æˆ React Root
- [ ] å®ç° onOpen/onClose
- [ ] å®ç° getState/setState

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/view/JournalView.tsx`**
```typescript
import { ItemView, WorkspaceLeaf, App, Plugin } from 'obsidian';
import { createRoot, Root } from 'react-dom/client';
import React from 'react';
import { JournalViewProvider } from '../context/JournalViewContext';
import { JournalViewContainer } from '../components/JournalViewContainer';

export const JOURNAL_VIEW_TYPE = 'journal-view-react';

export class JournalView extends ItemView {
  private root: Root | null = null;
  private plugin: Plugin | null = null;
  private targetFolderPath: string | null = null;

  constructor(leaf: WorkspaceLeaf, app: App, plugin?: Plugin) {
    super(leaf);
    this.plugin = plugin || null;
  }

  getViewType(): string {
    return JOURNAL_VIEW_TYPE;
  }

  getDisplayText(): string {
    return 'æ‰‹è®°è§†å›¾';
  }

  getIcon(): string {
    return 'calendar';
  }

  getState(): any {
    return {
      targetFolderPath: this.targetFolderPath,
    };
  }

  async setState(state: any): Promise<void> {
    this.targetFolderPath = state?.targetFolderPath || null;
    // å¦‚æœ React ç»„ä»¶å·²æ¸²æŸ“ï¼Œæ›´æ–°å®ƒ
    if (this.root) {
      this.renderReact();
    }
  }

  async onOpen(): Promise<void> {
    const container = this.containerEl.children[1] as HTMLElement;
    if (!container) {
      return;
    }

    // åˆ›å»º React Root
    this.root = createRoot(container);
    this.renderReact();
  }

  async onClose(): Promise<void> {
    if (this.root) {
      this.root.unmount();
      this.root = null;
    }
  }

  private renderReact(): void {
    if (!this.root) {
      return;
    }

    this.root.render(
      <React.StrictMode>
        <JournalViewProvider
          app={this.app}
          plugin={this.plugin}
          targetFolderPath={this.targetFolderPath}
          setTargetFolderPath={(path) => {
            this.targetFolderPath = path;
            this.renderReact();
          }}
        >
          <JournalViewContainer />
        </JournalViewProvider>
      </React.StrictMode>
    );
  }
}
```

2. **åˆ›å»ºå ä½ç»„ä»¶ `src/components/JournalViewContainer.tsx`**
```typescript
import React from 'react';

export const JournalViewContainer: React.FC = () => {
  return (
    <div className="journal-view-container">
      <h1>Journal View (React)</h1>
      <p>æ­£åœ¨å¼€å‘ä¸­...</p>
    </div>
  );
};
```

3. **æ›´æ–° `src/main.ts`**
```typescript
import { Plugin } from 'obsidian';
import { JournalView, JOURNAL_VIEW_TYPE } from './view/JournalView';

export default class JournalViewPlugin extends Plugin {
  async onload() {
    // æ³¨å†Œè§†å›¾
    this.registerView(JOURNAL_VIEW_TYPE, (leaf) => {
      return new JournalView(leaf, this.app, this);
    });

    // æ·»åŠ å‘½ä»¤æ‰“å¼€è§†å›¾
    this.addCommand({
      id: 'open-journal-view',
      name: 'æ‰“å¼€æ‰‹è®°è§†å›¾',
      callback: () => {
        this.activateView();
      },
    });
  }

  async onunload() {
    // æ¸…ç†å·¥ä½œ
  }

  async activateView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(JOURNAL_VIEW_TYPE)[0];

    if (!leaf) {
      leaf = workspace.getRightLeaf(false);
      await leaf.setViewState({ type: JOURNAL_VIEW_TYPE });
    }

    workspace.revealLeaf(leaf);
  }
}
```

**æ£€æŸ¥æ¸…å•**:
- [ ] JournalView å¯ä»¥æ­£å¸¸åˆ›å»º
- [ ] React Root å¯ä»¥æ­£å¸¸æŒ‚è½½
- [ ] onOpen/onClose æ­£å¸¸å·¥ä½œ
- [ ] getState/setState æ­£å¸¸å·¥ä½œ
- [ ] å¯ä»¥åœ¨ Obsidian ä¸­æ‰“å¼€è§†å›¾ï¼ˆæ˜¾ç¤ºå ä½å†…å®¹ï¼‰

---

## 3. æ ¸å¿ƒç»„ä»¶å¼€å‘

### Step 3.1: JournalHeader ç»„ä»¶

**æ—¶é—´ä¼°ç®—**: 1-2 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º JournalHeader ç»„ä»¶
- [ ] å®ç°æ ‡é¢˜æ˜¾ç¤º
- [ ] å®ç°æ–°å»ºæŒ‰é’®
- [ ] å®ç°åˆ·æ–°æŒ‰é’®

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/components/JournalHeader.tsx`**
```typescript
import React from 'react';
import { useJournalView } from '../context/JournalViewContext';
import { useJournalData } from '../context/JournalDataContext';

export const JournalHeader: React.FC = () => {
  const { app } = useJournalView();
  const { refresh } = useJournalData();

  const handleCreateNote = async () => {
    // TODO: å®ç°åˆ›å»ºç¬”è®°é€»è¾‘
    console.log('Create note');
  };

  const handleRefresh = async () => {
    await refresh();
  };

  return (
    <div className="journal-header">
      <div className="journal-title-container">
        <h1 className="journal-title-header">æ‰‹è®°</h1>
        <div className="journal-header-buttons">
          <button
            className="journal-header-button"
            onClick={handleCreateNote}
            title="æ–°å»ºç¬”è®°"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
          <button
            className="journal-header-button"
            onClick={handleRefresh}
            title="åˆ·æ–°"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
              <polyline points="23 4 23 10 17 10"></polyline>
              <polyline points="1 20 1 14 7 14"></polyline>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ç»„ä»¶å¯ä»¥æ­£å¸¸æ¸²æŸ“
- [ ] æŒ‰é’®å¯ä»¥æ­£å¸¸ç‚¹å‡»
- [ ] æ ·å¼æ­£ç¡®æ˜¾ç¤º

---

### Step 3.2: JournalStats ç»„ä»¶

**æ—¶é—´ä¼°ç®—**: 1-2 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º JournalStats ç»„ä»¶
- [ ] å®ç°ç»Ÿè®¡ä¿¡æ¯è®¡ç®—
- [ ] å®ç°æ ¼å¼åŒ–æ˜¾ç¤º

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/components/JournalStats.tsx`**
```typescript
import React from 'react';
import { useJournalData } from '../context/JournalDataContext';
import { StatisticsCalculator } from '../utils/StatisticsCalculator';

const formatNumber = (num: number): string => {
  if (num >= 10000) {
    const w = Math.floor(num / 10000);
    const remainder = Math.floor((num % 10000) / 1000);
    if (remainder > 0) {
      return `${w}.${remainder}w`;
    }
    return `${w}w`;
  } else if (num >= 1000) {
    const k = Math.floor(num / 1000);
    const remainder = Math.floor((num % 1000) / 100);
    if (remainder > 0) {
      return `${k}.${remainder}k`;
    }
    return `${k}k`;
  }
  return num.toString();
};

export const JournalStats: React.FC = () => {
  const { entries } = useJournalData();

  const consecutiveDays = StatisticsCalculator.calculateConsecutiveDays(entries);
  const totalWords = StatisticsCalculator.calculateTotalWords(entries);
  const totalDays = StatisticsCalculator.calculateTotalDays(entries);

  return (
    <div className="journal-stats">
      <div className="journal-stat">
        <div className="journal-stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        </div>
        <div className="journal-stat-content">
          <div className="journal-stat-value">{formatNumber(consecutiveDays)}</div>
          <div className="journal-stat-label">è¿ç»­å¤©æ•°</div>
        </div>
      </div>
      <div className="journal-stat">
        <div className="journal-stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
        </div>
        <div className="journal-stat-content">
          <div className="journal-stat-value">{formatNumber(totalWords)}</div>
          <div className="journal-stat-label">æ€»å­—æ•°</div>
        </div>
      </div>
      <div className="journal-stat">
        <div className="journal-stat-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </div>
        <div className="journal-stat-content">
          <div className="journal-stat-value">{formatNumber(totalDays)}</div>
          <div className="journal-stat-label">æ€»å¤©æ•°</div>
        </div>
      </div>
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ç»„ä»¶å¯ä»¥æ­£å¸¸æ¸²æŸ“
- [ ] ç»Ÿè®¡ä¿¡æ¯è®¡ç®—æ­£ç¡®
- [ ] æ ¼å¼åŒ–æ˜¾ç¤ºæ­£ç¡®

---

### Step 3.3: JournalEmptyState ç»„ä»¶

**æ—¶é—´ä¼°ç®—**: 1 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º JournalEmptyState ç»„ä»¶
- [ ] å®ç°ç©ºçŠ¶æ€ UI

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/components/JournalEmptyState.tsx`**
```typescript
import React from 'react';
import { useJournalView } from '../context/JournalViewContext';

export const JournalEmptyState: React.FC = () => {
  const { app } = useJournalView();

  const handleScan = async () => {
    // TODO: å®ç°æ‰«æé€»è¾‘
    console.log('Scan files');
  };

  return (
    <div className="journal-welcome">
      <div className="journal-welcome-card">
        <h2>æ¬¢è¿ä½¿ç”¨æ‰‹è®°è§†å›¾</h2>
        <p>è¿˜æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ‰‹è®°æ–‡ä»¶</p>
        <button className="journal-welcome-button" onClick={handleScan}>
          å¼€å§‹æ‰«æ
        </button>
      </div>
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] ç»„ä»¶å¯ä»¥æ­£å¸¸æ¸²æŸ“
- [ ] æŒ‰é’®å¯ä»¥æ­£å¸¸ç‚¹å‡»

---

## 4. Hooks å’ŒçŠ¶æ€ç®¡ç†

### Step 4.1: useJournalEntries Hook

**æ—¶é—´ä¼°ç®—**: 3-4 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º useJournalEntries Hook
- [ ] å®ç°æ•°æ®åŠ è½½é€»è¾‘
- [ ] å®ç°é”™è¯¯å¤„ç†
- [ ] å®ç°åŠ è½½çŠ¶æ€

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/hooks/useJournalEntries.ts`**
```typescript
import { useState, useEffect, useCallback } from 'react';
import { TFile, TFolder } from 'obsidian';
import { useJournalView } from '../context/JournalViewContext';
import { JournalEntry, extractDate, extractImagesFromContent, generatePreview, countWords, extractTitle } from '../utils/utils';
import { PAGINATION } from '../constants';

export const useJournalEntries = () => {
  const { app, targetFolderPath } = useJournalView();
  const [entries, setEntries] = useState<JournalEntry[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<Error | null>(null);

  const loadEntryMetadata = async (file: TFile): Promise<JournalEntry | null> => {
    try {
      const content = await app.vault.read(file);
      const date = extractDate(content, file);
      const title = extractTitle(content, file);
      const images = extractImagesFromContent(content, app, file);
      const preview = generatePreview(content);
      const wordCount = countWords(content);

      return {
        file,
        date,
        title,
        content,
        images,
        preview,
        wordCount,
      };
    } catch (error) {
      console.error(`Error loading entry ${file.path}:`, error);
      return null;
    }
  };

  const getMarkdownFilesInFolder = (folder: TFolder): TFile[] => {
    const files: TFile[] = [];
    const processFolder = (f: TFolder) => {
      for (const child of f.children) {
        if (child instanceof TFile && child.extension === 'md') {
          files.push(child);
        } else if (child instanceof TFolder) {
          processFolder(child);
        }
      }
    };
    processFolder(folder);
    return files;
  };

  const loadEntries = useCallback(async () => {
    setIsLoading(true);
    setError(null);

    try {
      let files: TFile[] = [];
      
      if (targetFolderPath) {
        const targetFolder = app.vault.getAbstractFileByPath(targetFolderPath);
        if (targetFolder instanceof TFolder) {
          files = getMarkdownFilesInFolder(targetFolder);
        } else {
          files = app.vault.getMarkdownFiles();
        }
      } else {
        files = app.vault.getMarkdownFiles();
      }

      const entryPromises: Promise<JournalEntry | null>[] = files.map(file =>
        loadEntryMetadata(file).catch(error => {
          console.error(`Error processing file ${file.path}:`, error);
          return null;
        })
      );

      // æ‰¹é‡å¤„ç†
      const batchSize = PAGINATION.BATCH_SIZE;
      const results: JournalEntry[] = [];
      
      for (let i = 0; i < entryPromises.length; i += batchSize) {
        const batch = entryPromises.slice(i, i + batchSize);
        const batchResults = await Promise.all(batch);
        results.push(...batchResults.filter((e): e is JournalEntry => e !== null));
      }

      // æ’åº
      results.sort((a, b) => {
        const dateDiff = b.date.getTime() - a.date.getTime();
        if (dateDiff !== 0) {
          return dateDiff;
        }
        const ctimeDiff = b.file.stat.ctime - a.file.stat.ctime;
        if (ctimeDiff !== 0) {
          return ctimeDiff;
        }
        return b.file.path.localeCompare(a.file.path);
      });

      setEntries(results);
    } catch (err) {
      setError(err instanceof Error ? err : new Error('Unknown error'));
    } finally {
      setIsLoading(false);
    }
  }, [app, targetFolderPath]);

  useEffect(() => {
    loadEntries();
  }, [loadEntries]);

  return {
    entries,
    isLoading,
    error,
    refresh: loadEntries,
  };
};
```

2. **æ›´æ–° `src/components/JournalViewContainer.tsx`** ä½¿ç”¨ Hook
```typescript
import React from 'react';
import { JournalDataProvider } from '../context/JournalDataContext';
import { useJournalEntries } from '../hooks/useJournalEntries';
import { JournalHeader } from './JournalHeader';
import { JournalStats } from './JournalStats';
import { JournalList } from './JournalList';
import { JournalEmptyState } from './JournalEmptyState';

const JournalViewContent: React.FC = () => {
  const { entries, isLoading, error, refresh } = useJournalEntries();

  if (isLoading) {
    return <div>åŠ è½½ä¸­...</div>;
  }

  if (error) {
    return <div>é”™è¯¯: {error.message}</div>;
  }

  if (entries.length === 0) {
    return <JournalEmptyState />;
  }

  return (
    <JournalDataProvider entries={entries} isLoading={isLoading} error={error} refresh={refresh}>
      <div className="journal-content-wrapper">
        <JournalHeader />
        <JournalStats />
        <JournalList />
      </div>
    </JournalDataProvider>
  );
};

export const JournalViewContainer: React.FC = () => {
  return (
    <div className="journal-view-container">
      <JournalViewContent />
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] Hook å¯ä»¥æ­£å¸¸åŠ è½½æ•°æ®
- [ ] åŠ è½½çŠ¶æ€æ­£ç¡®æ˜¾ç¤º
- [ ] é”™è¯¯å¤„ç†æ­£å¸¸å·¥ä½œ
- [ ] æ•°æ®æ’åºæ­£ç¡®

---

### Step 4.2: useJournalPagination Hook

**æ—¶é—´ä¼°ç®—**: 2-3 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º useJournalPagination Hook
- [ ] å®ç°åˆ†é¡µé€»è¾‘
- [ ] å®ç° Intersection Observer

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/hooks/useJournalPagination.ts`**
```typescript
import { useState, useEffect, useRef, useCallback } from 'react';
import { JournalEntry } from '../utils/utils';
import { PAGINATION } from '../constants';

export const useJournalPagination = (entries: JournalEntry[]) => {
  const [currentPage, setCurrentPage] = useState(0);
  const [isLoadingMore, setIsLoadingMore] = useState(false);
  const loadMoreTriggerRef = useRef<HTMLDivElement>(null);
  const observerRef = useRef<IntersectionObserver | null>(null);

  const itemsPerPage = PAGINATION.ITEMS_PER_PAGE;
  const startIndex = currentPage * itemsPerPage;
  const endIndex = Math.min(startIndex + itemsPerPage, entries.length);
  const displayedEntries = entries.slice(0, endIndex);
  const hasMore = endIndex < entries.length;

  const loadMore = useCallback(() => {
    if (isLoadingMore || !hasMore) {
      return;
    }

    setIsLoadingMore(true);
    // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
    setTimeout(() => {
      setCurrentPage(prev => prev + 1);
      setIsLoadingMore(false);
    }, 100);
  }, [isLoadingMore, hasMore]);

  useEffect(() => {
    if (!loadMoreTriggerRef.current) {
      return;
    }

    observerRef.current = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting && !isLoadingMore && hasMore) {
            loadMore();
          }
        });
      },
      {
        rootMargin: '300px',
        threshold: 0.01,
      }
    );

    observerRef.current.observe(loadMoreTriggerRef.current);

    return () => {
      if (observerRef.current) {
        observerRef.current.disconnect();
      }
    };
  }, [loadMore, isLoadingMore, hasMore]);

  const resetPagination = useCallback(() => {
    setCurrentPage(0);
    setIsLoadingMore(false);
  }, []);

  return {
    displayedEntries,
    hasMore,
    isLoadingMore,
    loadMoreTriggerRef,
    resetPagination,
  };
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] åˆ†é¡µé€»è¾‘æ­£ç¡®
- [ ] Intersection Observer æ­£å¸¸å·¥ä½œ
- [ ] åŠ è½½æ›´å¤šåŠŸèƒ½æ­£å¸¸

---

## 5. å›¾ç‰‡å¸ƒå±€ç»„ä»¶

### Step 5.1: JournalImageContainer ç»„ä»¶

**æ—¶é—´ä¼°ç®—**: 4-5 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º JournalImageContainer ç»„ä»¶
- [ ] å®ç° 1-5 å¼ å›¾ç‰‡çš„å¸ƒå±€
- [ ] å®ç°å›¾ç‰‡æ‡’åŠ è½½
- [ ] å®ç°å›¾ç‰‡ç‚¹å‡»æŸ¥çœ‹

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/components/JournalImageContainer.tsx`**
```typescript
import React, { useState, useEffect, useRef } from 'react';
import { ImageInfo } from '../utils/utils';

interface JournalImageContainerProps {
  images: ImageInfo[];
  totalImages: number;
  allImages: ImageInfo[];
}

export const JournalImageContainer: React.FC<JournalImageContainerProps> = ({
  images,
  totalImages,
  allImages,
}) => {
  const imageCount = images.length;
  const containerClass = `journal-images journal-images-${imageCount === 1 ? 'single' : imageCount === 2 ? 'double' : imageCount === 3 ? 'triple' : imageCount === 4 ? 'quad' : 'five'}`;

  const renderImage = (image: ImageInfo, index: number, className?: string) => {
    const [isLoaded, setIsLoaded] = useState(false);
    const imgRef = useRef<HTMLImageElement>(null);

    useEffect(() => {
      if (!imgRef.current) {
        return;
      }

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting && !isLoaded) {
              setIsLoaded(true);
              observer.unobserve(entry.target);
            }
          });
        },
        { rootMargin: '50px' }
      );

      observer.observe(imgRef.current);

      return () => {
        observer.disconnect();
      };
    }, [isLoaded]);

    const handleClick = () => {
      // TODO: å®ç°å›¾ç‰‡æŸ¥çœ‹å™¨
      console.log('Open image viewer', image);
    };

    return (
      <div
        key={index}
        className={`journal-image-container ${className || ''}`}
        onClick={handleClick}
      >
        {isLoaded ? (
          <img
            ref={imgRef}
            src={image.url}
            alt={image.altText || image.name}
            className="journal-image"
            loading="lazy"
            decoding="async"
          />
        ) : (
          <div className="journal-image-placeholder" />
        )}
        {index === images.length - 1 && totalImages > images.length && (
          <div className="journal-image-more">
            +{totalImages - images.length}
          </div>
        )}
      </div>
    );
  };

  if (imageCount === 1) {
    return (
      <div className={containerClass}>
        {renderImage(images[0], 0)}
      </div>
    );
  }

  if (imageCount === 2) {
    return (
      <div className={containerClass}>
        {renderImage(images[0], 0)}
        {renderImage(images[1], 1)}
      </div>
    );
  }

  if (imageCount === 3) {
    return (
      <div className={containerClass}>
        {renderImage(images[0], 0, 'journal-image-container-large')}
        {renderImage(images[1], 1, 'journal-image-container-small')}
        {renderImage(images[2], 2, 'journal-image-container-small')}
      </div>
    );
  }

  if (imageCount === 4) {
    return (
      <div className={containerClass}>
        {renderImage(images[0], 0)}
        {renderImage(images[1], 1, 'journal-image-container-quad-right-top')}
        {renderImage(images[2], 2, 'journal-image-container-quad-right-bottom')}
        {renderImage(images[3], 3, 'journal-image-container-quad-right-bottom')}
      </div>
    );
  }

  // 5+ images
  return (
    <div className={containerClass}>
      {renderImage(images[0], 0)}
      {images.slice(1, 5).map((image, index) =>
        renderImage(image, index + 1, 'journal-image-container-five')
      )}
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] 1-5 å¼ å›¾ç‰‡çš„å¸ƒå±€éƒ½æ­£ç¡®
- [ ] å›¾ç‰‡æ‡’åŠ è½½æ­£å¸¸å·¥ä½œ
- [ ] å›¾ç‰‡ç‚¹å‡»å¯ä»¥æ‰“å¼€æŸ¥çœ‹å™¨

---

## 6. è™šæ‹ŸåŒ–å®ç°

### Step 6.1: useJournalScroll Hook (è™šæ‹ŸåŒ–)

**æ—¶é—´ä¼°ç®—**: 4-5 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º useJournalScroll Hook
- [ ] é›†æˆ @tanstack/react-virtual
- [ ] å®ç°æ»šåŠ¨ç®¡ç†

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/hooks/useJournalScroll.ts`**
```typescript
import { useRef, useMemo } from 'react';
import { useVirtualizer } from '@tanstack/react-virtual';
import { JournalEntry } from '../utils/utils';
import { groupByMonth } from '../utils/utils';

interface VirtualListItem {
  type: 'month-header' | 'card';
  monthKey?: string;
  entry?: JournalEntry;
  index: number;
}

export const useJournalScroll = (entries: JournalEntry[]) => {
  const parentRef = useRef<HTMLDivElement>(null);

  // æ„å»ºè™šæ‹ŸåŒ–åˆ—è¡¨é¡¹
  const listItems = useMemo<VirtualListItem[]>(() => {
    const items: VirtualListItem[] = [];
    const grouped = groupByMonth(entries);
    const sortedMonths = Object.keys(grouped).sort((a, b) => {
      const dateA = parseMonthKey(a);
      const dateB = parseMonthKey(b);
      return dateB.getTime() - dateA.getTime();
    });

    let index = 0;
    for (const monthKey of sortedMonths) {
      items.push({
        type: 'month-header',
        monthKey,
        index: index++,
      });

      for (const entry of grouped[monthKey]) {
        items.push({
          type: 'card',
          entry,
          index: index++,
        });
      }
    }

    return items;
  }, [entries]);

  const virtualizer = useVirtualizer({
    count: listItems.length,
    getScrollElement: () => parentRef.current,
    estimateSize: (index) => {
      const item = listItems[index];
      if (item.type === 'month-header') {
        return 40; // æœˆä»½æ ‡é¢˜é«˜åº¦
      }
      return 200; // å¡ç‰‡ä¼°ç®—é«˜åº¦
    },
    overscan: 5,
  });

  return {
    parentRef,
    virtualizer,
    listItems,
  };
};

function parseMonthKey(monthKey: string): Date {
  const match = monthKey.match(/(\d{4})å¹´(\d{1,2})æœˆ/);
  if (match) {
    return new Date(parseInt(match[1]), parseInt(match[2]) - 1, 1);
  }
  return new Date();
}
```

2. **æ›´æ–° `src/components/JournalList.tsx`** ä½¿ç”¨è™šæ‹ŸåŒ–
```typescript
import React from 'react';
import { useJournalData } from '../context/JournalDataContext';
import { useJournalScroll } from '../hooks/useJournalScroll';
import { JournalCard } from './JournalCard';

export const JournalList: React.FC = () => {
  const { entries } = useJournalData();
  const { parentRef, virtualizer, listItems } = useJournalScroll(entries);

  return (
    <div ref={parentRef} className="journal-list-container" style={{ height: '100%', overflow: 'auto' }}>
      <div
        style={{
          height: `${virtualizer.getTotalSize()}px`,
          width: '100%',
          position: 'relative',
        }}
      >
        {virtualizer.getVirtualItems().map((virtualItem) => {
          const item = listItems[virtualItem.index];
          
          if (item.type === 'month-header') {
            return (
              <div
                key={virtualItem.key}
                style={{
                  position: 'absolute',
                  top: 0,
                  left: 0,
                  width: '100%',
                  height: `${virtualItem.size}px`,
                  transform: `translateY(${virtualItem.start}px)`,
                }}
              >
                <h2 className="journal-month-title">{item.monthKey}</h2>
              </div>
            );
          }

          return (
            <div
              key={virtualItem.key}
              style={{
                position: 'absolute',
                top: 0,
                left: 0,
                width: '100%',
                height: `${virtualItem.size}px`,
                transform: `translateY(${virtualItem.start}px)`,
              }}
            >
              {item.entry && <JournalCard entry={item.entry} />}
            </div>
          );
        })}
      </div>
    </div>
  );
};
```

**æ£€æŸ¥æ¸…å•**:
- [ ] è™šæ‹ŸåŒ–æ­£å¸¸å·¥ä½œ
- [ ] æ»šåŠ¨æµç•…
- [ ] æœˆä»½æ ‡é¢˜å’Œå¡ç‰‡æ­£ç¡®æ˜¾ç¤º

---

## 7. å®æ—¶æ›´æ–°

### Step 7.1: useFileSystemWatchers Hook

**æ—¶é—´ä¼°ç®—**: 2-3 å°æ—¶

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»º useFileSystemWatchers Hook
- [ ] å®ç°æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ç›‘å¬
- [ ] å®ç°é˜²æŠ–åˆ·æ–°

**æ‰§è¡Œæ­¥éª¤**:

1. **åˆ›å»º `src/hooks/useFileSystemWatchers.ts`**
```typescript
import { useEffect, useRef, useCallback } from 'react';
import { TAbstractFile, TFile, EventRef } from 'obsidian';
import { useJournalView } from '../context/JournalViewContext';
import { useJournalData } from '../context/JournalDataContext';

export const useFileSystemWatchers = () => {
  const { app, targetFolderPath } = useJournalView();
  const { refresh } = useJournalData();
  const refreshTimerRef = useRef<number | null>(null);
  const eventRefsRef = useRef<EventRef[]>([]);

  const shouldRefreshForFile = useCallback((file: TAbstractFile): boolean => {
    if (!(file instanceof TFile)) {
      return false;
    }

    if (file.extension !== 'md') {
      return false;
    }

    if (targetFolderPath && !file.path.startsWith(targetFolderPath)) {
      return false;
    }

    return true;
  }, [targetFolderPath]);

  const debouncedRefresh = useCallback(() => {
    if (refreshTimerRef.current) {
      clearTimeout(refreshTimerRef.current);
    }

    refreshTimerRef.current = window.setTimeout(() => {
      refresh();
      refreshTimerRef.current = null;
    }, 200);
  }, [refresh]);

  useEffect(() => {
    const handleFileCreate = (file: TAbstractFile) => {
      if (shouldRefreshForFile(file)) {
        debouncedRefresh();
      }
    };

    const handleFileDelete = (file: TAbstractFile) => {
      if (shouldRefreshForFile(file)) {
        debouncedRefresh();
      }
    };

    const handleFileModify = (file: TAbstractFile) => {
      if (shouldRefreshForFile(file)) {
        debouncedRefresh();
      }
    };

    const handleFileRename = (file: TAbstractFile, oldPath: string) => {
      const oldPathInTarget = targetFolderPath ? oldPath.startsWith(targetFolderPath) : true;
      const newPathInTarget = shouldRefreshForFile(file);
      
      if (oldPathInTarget || newPathInTarget) {
        debouncedRefresh();
      }
    };

    const handleMetadataChange = (file: TAbstractFile | null) => {
      if (file && shouldRefreshForFile(file)) {
        debouncedRefresh();
      }
    };

    // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    const refs: EventRef[] = [
      app.vault.on('create', handleFileCreate),
      app.vault.on('delete', handleFileDelete),
      app.vault.on('modify', handleFileModify),
      app.vault.on('rename', handleFileRename),
    ];

    const metadataRef = app.metadataCache.on('changed', handleMetadataChange);

    eventRefsRef.current = [...refs, metadataRef];

    return () => {
      // æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
      eventRefsRef.current.forEach(ref => {
        if (ref) {
          app.vault.offref(ref);
        }
      });
      
      if (metadataRef) {
        app.metadataCache.offref(metadataRef);
      }

      if (refreshTimerRef.current) {
        clearTimeout(refreshTimerRef.current);
      }
    };
  }, [app, targetFolderPath, shouldRefreshForFile, debouncedRefresh]);
};
```

2. **åœ¨ `JournalViewContainer` ä¸­ä½¿ç”¨ Hook**
```typescript
// åœ¨ JournalViewContent ç»„ä»¶ä¸­æ·»åŠ 
useFileSystemWatchers();
```

**æ£€æŸ¥æ¸…å•**:
- [ ] æ–‡ä»¶åˆ›å»º/åˆ é™¤/ä¿®æ”¹æ—¶è‡ªåŠ¨åˆ·æ–°
- [ ] é˜²æŠ–æ­£å¸¸å·¥ä½œ
- [ ] äº‹ä»¶ç›‘å¬å™¨æ­£ç¡®æ¸…ç†

---

## 8. æµ‹è¯•å’Œä¼˜åŒ–

### Step 8.1: åŠŸèƒ½æµ‹è¯•

**æ—¶é—´ä¼°ç®—**: 2-3 å¤©

**ä»»åŠ¡æ¸…å•**:
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
- [ ] ä¿®å¤ bug
- [ ] æ€§èƒ½ä¼˜åŒ–

### Step 8.2: æ€§èƒ½ä¼˜åŒ–

**æ—¶é—´ä¼°ç®—**: 1-2 å¤©

**ä»»åŠ¡æ¸…å•**:
- [ ] ä¼˜åŒ–è™šæ‹ŸåŒ–é…ç½®
- [ ] ä¼˜åŒ–å›¾ç‰‡åŠ è½½
- [ ] ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½

---

## ğŸ“Š æ€»ä½“æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | æ—¶é—´ä¼°ç®— |
|------|---------|
| 1. é¡¹ç›®åˆå§‹åŒ– | 0.5 å¤© |
| 2. åŸºç¡€æ¶æ„æ­å»º | 1 å¤© |
| 3. æ ¸å¿ƒç»„ä»¶å¼€å‘ | 2-3 å¤© |
| 4. Hooks å’ŒçŠ¶æ€ç®¡ç† | 2-3 å¤© |
| 5. å›¾ç‰‡å¸ƒå±€ç»„ä»¶ | 1-2 å¤© |
| 6. è™šæ‹ŸåŒ–å®ç° | 1-2 å¤© |
| 7. å®æ—¶æ›´æ–° | 1 å¤© |
| 8. æµ‹è¯•å’Œä¼˜åŒ– | 3-5 å¤© |
| **æ€»è®¡** | **12-18 å¤©** |

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰ç»„ä»¶å·²åˆ›å»º
- [ ] æ‰€æœ‰ Hooks å·²å®ç°
- [ ] è™šæ‹ŸåŒ–æ­£å¸¸å·¥ä½œ
- [ ] å®æ—¶æ›´æ–°æ­£å¸¸å·¥ä½œ
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥å®Œæˆ
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **é€æ­¥å¼€å‘**ï¼šæ¯ä¸ªæ­¥éª¤å®Œæˆåéƒ½è¦æµ‹è¯•ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸
2. **å‚è€ƒåŸé¡¹ç›®**ï¼šä¿æŒä¸åŸé¡¹ç›®åŠŸèƒ½ä¸€è‡´
3. **æ ·å¼å¤ç”¨**ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨åŸé¡¹ç›®çš„ styles.css
4. **ç±»å‹å®‰å…¨**ï¼šç¡®ä¿æ‰€æœ‰ TypeScript ç±»å‹æ­£ç¡®
5. **é”™è¯¯å¤„ç†**ï¼šæ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½è¦æœ‰é”™è¯¯å¤„ç†

---

## ğŸš€ å¼€å§‹é‡æ„

æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤é€æ­¥è¿›è¡Œï¼Œæ¯å®Œæˆä¸€ä¸ªæ­¥éª¤å°±æµ‹è¯•ä¸€æ¬¡ï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸åå†ç»§ç»­ä¸‹ä¸€æ­¥ã€‚

ç¥é‡æ„é¡ºåˆ©ï¼ğŸ‰
